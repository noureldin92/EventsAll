"use strict";(self.webpackChunkreact_complete_guide=self.webpackChunkreact_complete_guide||[]).push([[904],{904:(e,t,n)=>{n.r(t),n.d(t,{action:()=>v,default:()=>u,loader:()=>m});var s=n(791),c=n(689),l=n(278),r=n(87);const a="EventItem_event__LQuLe",o="EventItem_actions__F6zf4";var i=n(184);const d=function(e){let{event:t}=e;const n=(0,r.qd)();let s=(0,c.V4)("tokenData");return(0,i.jsxs)("article",{className:a,children:[(0,i.jsx)("img",{src:t.image,alt:t.title}),(0,i.jsx)("h1",{children:t.title}),(0,i.jsx)("time",{children:t.date}),(0,i.jsx)("p",{children:t.description}),(0,i.jsx)("menu",{className:o,children:s&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.rU,{to:"edit",children:"Edit"}),(0,i.jsx)("button",{onClick:function(){window.confirm("Are you sure?")&&n(null,{method:"delete"})},children:"Delete"})]})})]})};const u=function(){const{event:e}=(0,c.V4)("event-detail");return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(s.Suspense,{fallback:(0,i.jsx)("p",{style:{textAlign:"center"},children:" Loading Details ... "}),children:(0,i.jsx)(c.KP,{resolve:e,children:e=>(0,i.jsx)(d,{event:e})})})})};async function h(e){const t=await fetch("http://localhost:8080/events/"+e);if(t.ok){return(await t.json()).event}throw(0,l.AV)({message:"Could not fetch details for selected event."},{status:500})}function m(e){let{request:t,params:n}=e;const s=n.eventId;return(0,l.PQ)({event:h(s)})}async function v(e){let{params:t,request:n}=e;const s=t.eventId;let c=localStorage.getItem("token");if(!(await fetch("http://localhost:8080/events/"+s,{method:n.method,headers:{Authorization:"Bearer "+c}})).ok)throw(0,l.AV)({message:"Could not delete event."},{status:500});return(0,l.uX)("/events")}}}]);
//# sourceMappingURL=904.e5c8d8bb.chunk.js.map